{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Community Guide for theta-client","text":"<p>Full code on  GitHub ricohapi/theta-client.</p>"},{"location":"#quickstart","title":"Quickstart","text":"<p>For native Android and iOS</p> <ol> <li>Build <code>theta-client</code> first</li> <li>Copy <code>aar</code> file you built in the previous step into Android project</li> <li>Copy <code>XCFramework</code> into iOS project</li> <li>In <code>./demo/demo-android</code> build Android demo</li> <li> <p>In <code>./demo/demo-ios</code> build iOS demo</p> </li> <li> <p>demo-android full build process video walkthrough</p> </li> </ol>"},{"location":"#overview","title":"Overview","text":"<p><code>theta-client</code> is an open source library enabling rapid creation of mobile apps that control RICOH THETA cameras. The library works with Kotlin, Swift, Dart, and JavaScript.</p>"},{"location":"#demo-apps","title":"Demo Apps","text":"<p>Four open source demo applications are included:</p> <ul> <li>Android native with Kotlin</li> <li>iOS native with Swift</li> <li>React Native for iOS and Android builds</li> <li>Flutter for iOS and Android builds</li> </ul>"},{"location":"#documentation","title":"Documentation","text":"<p>Refer to theta-client documentation for the development platform you are using.</p> <ul> <li>Android</li> <li>iOS</li> <li>React Native</li> <li>Flutter</li> </ul> <p>In addition to documentation on theta-client, you can refer to the RICOH official Web API 2.1 documentation.</p>"},{"location":"#community-tips","title":"Community Tips","text":""},{"location":"#cannot-find-android_home-android","title":"cannot find ANDROID_HOME (Android)","text":"<p>You may need to specify the path of ANDROID_HOME in either an environmental variable or the <code>local.properties</code> file in the project root.</p> <p>Example <code>local.properties</code> on Linux.</p> <p><code>sdk.dir=/home/craig/Android/Sdk</code></p>"},{"location":"#zip-end-header-not-found-android","title":"zip END header not found (Android)","text":"<p>After you build theta-client, make sure that you copied <code>theta-client-debug.aar</code> into <code>theta-client\\demos\\demo-android\\app\\libs</code></p>"},{"location":"#react-native-run-pod-install-in-ios-folder","title":"React Native: run pod install in ios folder","text":"<p>For React Native, you may need to run <code>pod install</code> in the ios  folder inside of demo-react-native</p>"},{"location":"#minsdkversion-android","title":"minSdkVersion (Android)","text":"<p>If you build a new project, the <code>minSdkVersion</code> might be set to a lower number such as 16.  The plug-in requires a <code>minSdkVersion</code> of 26.</p> <p>In <code>android/app/build.gradle</code>, set to <code>minSdkVersion 26</code></p>"},{"location":"#getting-help","title":"Getting Help","text":"<p>Open an issue on GitHub. </p>"},{"location":"flutter/","title":"Flutter","text":"<p>Official RICOH demo-flutter</p>"},{"location":"flutter/#community-video-tutorials","title":"Community Video Tutorials","text":"<ul> <li>theta-client new Flutter App from the beginning - blank editor to Android app</li> <li>Equirectangular to 360 Image in Flutter  with Panorama Package - published February 21, 2023</li> <li>RICOH theta-client Flutter Build on Windows - published Feb 8, 2023.</li> </ul>"},{"location":"flutter/#building-a-new-app-on-windows","title":"Building a New App on Windows","text":"<ol> <li>build theta-client</li> <li>copy <code>theta-client/kotlin-multiplatform/build/outputs/aar/*.aar</code> into <code>theta-client/flutter/android/aar</code>  new Flutter project</li> <li>create new Flutter project (example <code>theta_tutorial</code>)</li> <li>copy <code>theta-client/flutter/*</code> into <code>theta_tutorial/packages/theta_client_flutter/</code></li> <li>add plugin to <code>pubspec.yaml</code></li> <li>set min sdk and dependency in <code>build.gradle</code> (Android)</li> </ol>"},{"location":"flutter/#pubspecyaml-configuration","title":"<code>pubspec.yaml</code> configuration","text":"<pre><code>dependencies:\nflutter:\nsdk: flutter\ntheta_client_flutter:\npath: ./packages/theta_client_flutter\n</code></pre>"},{"location":"flutter/#buildgradle-android","title":"<code>build.gradle</code> (Android)","text":"<p>in <code>theta_tutorial/android/app/build.gradle</code></p> <pre><code>dependencies {\n...\nimplementation files('../../packages/theta_client_flutter/android/aar/theta-client-debug.aar')\n...\n}\n</code></pre> <p>Also, set MinSdkVersion to 26</p> <pre><code>MinSdkVersion 26\n</code></pre>"},{"location":"flutter/#change-equirectangular-image-to-360-navigation-view-flutter","title":"Change Equirectangular Image to 360 Navigation View (Flutter)","text":"<p>Oppkey uses panorama.</p> <p>video tutorial</p> <p>After taking a picture, the post-view is also in equirectangular.</p> <p></p> <p>Add Panorama package.</p> <pre><code>PS C:theta-client\\demos\\demo-flutter&gt; flutter pub add panorama\nResolving dependencies...\n</code></pre> <p>Your dependencies will look like this:</p> <pre><code>dependencies:\nflutter:\nsdk: flutter\ntheta_client_flutter:\npath: ./packages/theta_client_flutter\n# The following adds the Cupertino Icons font to your application.\n# Use with the CupertinoIcons class for iOS style icons.\ncupertino_icons: ^1.0.2\nvideo_player: ^2.4.10\npanorama: ^0.4.1\n</code></pre> <p>In <code>lib/photo_screen.dart</code>, go to line 19 and wrap with Panorama.</p> <p></p> <p></p> <p>If you don't have auto-import, the <code>Panorama</code> widget will initially be red.</p> <p></p> <p>On VS Code, use ctrl-. to open up the auto-import menu.  </p> <p></p> <p>Hot restart</p> <p>Select a file from list view.</p> <p></p> <p>View in 360.</p> <p></p>"},{"location":"flutter/#build-flutter-on-windows-for-android","title":"Build Flutter on Windows for Android","text":"<p>After building <code>theta-client</code>, inspect <code>theta-client/scripts/build-flutter-build.sh</code></p> <p>The key part is:</p> <p><code>cp -f ./kotlin-multiplatform/build/outputs/aar/*.aar ./flutter/android/aar/</code></p> <p>On PowerShell, copy the <code>*.aar</code> files into <code>./flutter/android/aar</code></p> <pre><code>PS C:theta-client&gt; copy .\\kotlin-multiplatform\\build\\outputs\\aar\\*.aar .\\flutter\\android\\aar\\\nPS C:theta-client&gt; cd .\\flutter\\android\\aar\\\nPS C:theta-client\\flutter\\android\\aar&gt; ls\n\n    Directory: C:\\Users\\craig\\Documents\\Development\\ricoh\\2023\\theta-client\\flutter\\android\\aar\n\nMode                 LastWriteTime         Length Name\n----                 -------------         ------ ----\n-a----         2/24/2023  12:38 PM              0 .gitkeep\n-a----         2/24/2023  12:40 PM         954368 theta-client-debug.aar\n-a----         2/24/2023  12:40 PM         906203 theta-client-release.aar\n</code></pre> <p>In <code>demo-flutter\\packages</code>, delete the file <code>theta_client_flutter</code> and replace with a new folder called <code>theta_client_flutter</code></p> <p></p> <p>Copy the contents <code>.\\flutter</code> into the new <code>theta_client_flutter</code> folder.</p> <p></p> <p>In <code>demo-flutter</code>, run <code>flutter pub get</code></p> <pre><code>PS C:theta-client\\demos\\demo-flutter&gt; flutter pub get\nRunning \"flutter pub get\" in demo-flutter...\nResolving dependencies... (1.1s)\n&gt; async 2.10.0 (was 2.9.0)\n&gt; boolean_selector 2.1.1 (was 2.1.0)\n  characters 1.2.1 (1.3.0 available)\n&gt; collection 1.17.0 (was 1.16.0) (1.17.1 available)\n&gt; js 0.6.5 (was 0.6.4) (0.6.7 available)\n&gt; matcher 0.12.13 (was 0.12.12) (0.12.14 available)\n&gt; material_color_utilities 0.2.0 (was 0.1.5)\n  meta 1.8.0 (1.9.0 available)\n  path 1.8.2 (1.8.3 available)\n  plugin_platform_interface 2.1.3 (2.1.4 available)\n&gt; source_span 1.9.1 (was 1.9.0)\n&gt; stack_trace 1.11.0 (was 1.10.0)\n&gt; stream_channel 2.1.1 (was 2.1.0)\n&gt; string_scanner 1.2.0 (was 1.1.1)\n&gt; test_api 0.4.16 (was 0.4.12) (0.4.18 available)\n&gt; vector_math 2.1.4 (was 2.1.2)\n  video_player 2.4.10 (2.5.2 available)\n  video_player_android 2.3.10 (2.3.11 available)\n  video_player_avfoundation 2.3.8 (2.3.9 available)\n  video_player_platform_interface 6.0.1 (6.0.2 available)\n  video_player_web 2.0.13 (2.0.14 available)\nChanged 12 dependencies!\nPS C:theta-client\\demos\\demo-flutter&gt;\n</code></pre> <p>Start an Android emulator.</p> <p>Run the Flutter application on the emulator.</p> <pre><code>PS C:theta-client\\demos\\demo-flutter&gt; flutter run -d emulator-5554\nLaunching lib\\main.dart on sdk gphone64 x86 64 in debug mode...\nRunning Gradle task 'assembleDebug'...                             80.8s\n\u2713  Built build\\app\\outputs\\flutter-apk\\app-debug.apk.\nInstalling build\\app\\outputs\\flutter-apk\\app-debug.apk...        2,451ms\nSyncing files to device sdk gphone64 x86 64...                     172ms\n...\n\ud83d\udcaa Running with sound null safety \ud83d\udcaa\n</code></pre> <p>Unless your computer is already connected to a RICOH THETA camera, you will see Initialize error.  </p> <p></p> <p>Connect Windows computer to camera.</p> <p></p> <p></p> <p>After pressing take picture, the live preview will appear.</p> <p></p>"},{"location":"flutter/#troubleshooting","title":"Troubleshooting","text":""},{"location":"flutter/#failed-resolution-of-lcomricoh360thetaclientthetarepository-flutter-android","title":"Failed resolution of: Lcom/ricoh360/thetaclient/ThetaRepository; (Flutter, Android)","text":"<p>In <code>flutter_project_root/android/app/build.gradle</code>, specify <code>theta-client-debug.aar</code> in the dependencies.</p> <pre><code>dependencies {\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation files('../../packages/theta_client_flutter/android/aar/theta-client-debug.aar')\n\n}\n</code></pre>"}]}